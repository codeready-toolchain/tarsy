defaults:
  llm_provider: "test-provider"
  llm_backend: "google-native"
  # max_iterations=1 ensures BlockUntilCancelled agents don't retry: when the
  # LLM channel closes (due to cancellation), the agent treats the empty response
  # as a completed iteration. Without this, it would loop up to 20 times.
  max_iterations: 1

mcp_servers:
  # Dummy entry so built-in agents (KubernetesAgent, etc.) pass validation.
  kubernetes-server:
    transport:
      type: stdio
      command: mock

agents:
  SREOrchestrator:
    type: orchestrator
    description: "SRE investigation orchestrator"
    max_iterations: 10
    custom_instructions: "You are SREOrchestrator, you investigate alerts by dispatching specialized sub-agents."
    orchestrator:
      max_concurrent_agents: 5
      agent_timeout: 300s
  LogAnalyzer:
    description: "Analyzes logs for error patterns and anomalies"
    custom_instructions: "You are LogAnalyzer, you analyze logs to find error patterns."
  # GeneralWorker: built-in agent used as-is (no overrides)

agent_chains:
  orchestrator-cancel-chain:
    alert_types: [test-orchestrator-cancel]
    stages:
      - name: orchestrate
        agents:
          - name: SREOrchestrator
            sub_agents:
              - name: LogAnalyzer
              - GeneralWorker
