defaults:
  llm_provider: "google-test"
  iteration_strategy: "native-thinking"
  max_iterations: 3

mcp_servers:
  test-mcp:
    transport:
      type: stdio
      command: mock
  kubernetes-server:
    transport:
      type: stdio
      command: mock

agents:
  DataCollector:
    iteration_strategy: "native-thinking"
    max_iterations: 3
    mcp_servers: [test-mcp]
    custom_instructions: "You are DataCollector, gathering system metrics and logs."
  Investigator:
    max_iterations: 3
    mcp_servers: [test-mcp]
    custom_instructions: "You are Investigator, analyzing incidents in depth."
  InvestigatorAlt:
    max_iterations: 3
    mcp_servers: [test-mcp, kubernetes-server]
    custom_instructions: "You are InvestigatorAlt, analyzing incidents with alternative tooling."
  ResourceAnalyzer:
    iteration_strategy: "native-thinking"
    max_iterations: 3
    mcp_servers: [kubernetes-server]
    custom_instructions: "You are ResourceAnalyzer, checking resource usage and limits."
  Diagnostician:
    iteration_strategy: "native-thinking"
    max_iterations: 3
    mcp_servers: [test-mcp]
    custom_instructions: "You are Diagnostician, providing final root cause analysis."

agent_chains:
  kubernetes-oom:
    alert_types: [kubernetes-oom]
    stages:
      - name: data-collection
        agents:
          - name: DataCollector
      - name: parallel-investigation
        success_policy: any
        agents:
          - name: Investigator
            llm_provider: google-test
            iteration_strategy: "native-thinking"
          - name: InvestigatorAlt
            llm_provider: openai-test
            iteration_strategy: "react"
          - name: ResourceAnalyzer
      - name: final-diagnosis
        agents:
          - name: Diagnostician
    chat:
      enabled: true
      agent: ChatAgent
